"""
Experiment No :6
K - Means Algorithm

Name: Arshad Khan
Roll No: 20CO24

"""
import numpy as np
import math
dataset = [[170, 98], [180,62], [178, 80], [171, 68], [182, 65], [188, 77],
           [180, 71], [180, 70], [183, 84], [180, 88], [180, 67], [177, 76]]


k = 2
cluster1 = []
cluster2 = []

centroid1 = [170, 98]
centroid2 = [180, 62]
iteration = 0


def kmeans():
    global centroid1, centroid2, centroid3, cluster1, cluster2, cluster3, iteration
    print("\nIteration ", iteration + 1)

    for i in range(0, len(dataset)):
        a = abs(math.sqrt(
            (pow(centroid1[0] - dataset[i][0], 2)) + (pow(centroid1[-1] - dataset[i][-1], 2))))
        b = abs(math.sqrt(
            (pow(centroid2[0] - dataset[i][0], 2)) + (pow(centroid2[-1] - dataset[i][-1], 2))))
        print(a, b)

        if a > b:
            cluster2.append(dataset[i])
        else:
            cluster1.append(dataset[i])

        print(cluster1, cluster2)

    listx1 = []
    listy1 = []

    for x, y in cluster1:
        listx1.append(x)
        listy1.append(y)
    x1, y1 = listx1, listy1

    listx2 = []
    listy2 = []
    for x, y in cluster2:
        listx2.append(x)
        listy2.append(y)

    x2, y2 = listx2, listy2

    valx1 = sum(x1)/len(x1)
    valy1 = sum(y1)/len(y1)

    valx2 = sum(x2)/len(x2)
    valy2 = sum(y2)/len(y2)

    tup1 = (float("{:.2f}".format(valx1)), float("{:.2f}".format(valy1)))
    tup2 = (float("{:.2f}".format(valx2)), float("{:.2f}".format(valy2)))

    print("\nThe mean centroids are \n", tup1, "\n", tup2)

    if tup1 == centroid1 and tup2 == centroid2:
        print("\nClusters have been formed")
    else:
        centroid1 = tup1
        centroid2 = tup2

        cluster1 = []
        cluster2 = []

        kmeans()


kmeans()

"""
Output:

Iteration  1
0.0 37.36308338453881
[[170, 98]] []
37.36308338453881 0.0
[[170, 98]] [[180, 62]]
19.697715603592208 18.110770276274835
[[170, 98]] [[180, 62], [178, 80]]   
30.01666203960727 10.816653826391969
[[170, 98]] [[180, 62], [178, 80], [171, 68]]
35.11409973215888 3.605551275463989
[[170, 98]] [[180, 62], [178, 80], [171, 68], [182, 65]]
27.65863337187866 17.0
[[170, 98]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77]]
28.792360097775937 9.0
[[170, 98]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77], [180, 71]]
29.732137494637012 8.0
[[170, 98]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77], [180, 71], [180, 70]]
19.1049731745428 22.20360331117452
[[170, 98], [183, 84]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77], [180, 71], [180, 70]]
14.142135623730951 26.0
[[170, 98], [183, 84], [180, 88]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77], [180, 71], [180, 70]]
32.57299494980466 5.0
[[170, 98], [183, 84], [180, 88]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77], [180, 71], [180, 70], [180, 67]]
23.08679276123039 14.317821063276353
[[170, 98], [183, 84], [180, 88]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77], [180, 71], [180, 70], [180, 67], [177, 76]]

The mean centroids are
 (177.67, 90.0)
 (179.56, 70.67)

Iteration  1
11.082820038239356 28.953799405259407
[[170, 98]] []
28.096777395281475 8.681157756889345
[[170, 98]] [[180, 62]]
10.005443518405368 9.459519015256536
[[170, 98]] [[180, 62], [178, 80]]
22.988886445410962 8.96674411366802
[[170, 98]] [[180, 62], [178, 80], [171, 68]]
25.372207235477173 6.172722251972788
[[170, 98]] [[180, 62], [178, 80], [171, 68], [182, 65]]
16.604484334058682 10.549999999999997
[[170, 98]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77]]
19.14233266872144 0.5499999999999972
[[170, 98]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77], [180, 71]]
20.135265083926758 0.80156097709407
[[170, 98]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77], [180, 71], [180, 70]]
8.025515559763132 13.766717110480624
[[170, 98], [183, 84]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77], [180, 71], [180, 70]]
3.070651396690946 17.335584789674673
[[170, 98], [183, 84], [180, 88]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77], [180, 71], [180, 70]]      
23.11771831301697 3.6962819156552453
[[170, 98], [183, 84], [180, 88]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77], [180, 71], [180, 70], [180, 67]]
14.016022973725462 5.912909605262032
[[170, 98], [183, 84], [180, 88]] [[180, 62], [178, 80], [171, 68], [182, 65], [188, 77], [180, 71], [180, 70], [180, 67], [177, 76]]

The mean centroids are
 (177.67, 90.0)
 (179.56, 70.67)

Clusters have been formed
"""
